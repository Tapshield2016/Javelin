<!DOCTYPE html>
<html lang="en">
<head>
  <title>Select Organization</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
</head>
<body>

<div class="container">
  <h2>Please Select An Organization</h2>
  <ul class="list-group"> </ul>
</div>


</body>
</html>


<script type="text/javascript">
    
    function selectAgency(button) {
        console.log(button.id)

        var url = "{% url 'shieldcommand-org' agency_id=0%}";
        url = url.replace("0", button.id);

        window.location.href = url
    }
    
    var agency_list = {{ agencies|safe }};

    for (var i = 0; i < agency_list.length; i++) {
    // Iterate over numeric indexes from 0 to 5, as everyone expects.
        var agency = agency_list[i]
        $('.list-group').append('<button id="' + agency.id +
                '" type="button" class="list-group-item" onclick="selectAgency(this)">' + agency.name + '</button>');
        console.log(agency.name)
    }
</script>